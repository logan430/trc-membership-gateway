---
phase: 31-nextjs-frontend
plan: 04
type: execute
wave: 2
depends_on: ["31-01"]
files_modified:
  - dashboard/src/components/ui/Button.tsx
  - dashboard/src/components/ui/Card.tsx
  - dashboard/src/components/ui/Input.tsx
  - dashboard/src/components/ui/GoldCoinsLoader.tsx
  - dashboard/src/components/ui/index.ts
autonomous: true

must_haves:
  truths:
    - "Button component renders with pixel-style shadows and 8px border-radius"
    - "Card component displays parchment background with pixel borders"
    - "Input component shows gold accent border on focus"
    - "GoldCoinsLoader animates with stacking coin effect"
  artifacts:
    - path: "dashboard/src/components/ui/Button.tsx"
      provides: "Button component with pixel theme"
      contains: "pixel-shadow"
    - path: "dashboard/src/components/ui/Card.tsx"
      provides: "Card component family"
      contains: "CardHeader"
    - path: "dashboard/src/components/ui/GoldCoinsLoader.tsx"
      provides: "Medieval-themed loading spinner"
      contains: "animate-coin-stack"
  key_links:
    - from: "dashboard/src/components/ui/index.ts"
      to: "dashboard/src/components/ui/*.tsx"
      via: "barrel exports"
      pattern: "export.*from"
---

<objective>
Port and theme core UI components from Chris's Next.js app with medieval pixel styling per CONTEXT.md decisions.

Purpose: Create the foundational component library that all dashboard pages will use, applying the pixel-art medieval aesthetic (hard shadows, thick borders, parchment colors, gold accents).

Output: Button, Card, Input, and GoldCoinsLoader components ready for use in dashboard pages.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/31-nextjs-frontend/31-CONTEXT.md
@.planning/phases/31-nextjs-frontend/31-RESEARCH.md
</context>

<reference>
Chris's component files for porting:
- Chris's Dashboard & Features for Review & Integration/revenue-council/revenue-council/src/components/ui/Button.tsx
- Chris's Dashboard & Features for Review & Integration/revenue-council/revenue-council/src/components/ui/Card.tsx
- Chris's Dashboard & Features for Review & Integration/revenue-council/revenue-council/src/components/ui/Input.tsx
</reference>

<tasks>

<task type="auto">
  <name>Task 1: Create Button component with pixel theme</name>
  <files>
    dashboard/src/components/ui/Button.tsx
  </files>
  <action>
Port Chris's Button component and apply medieval pixel styling per CONTEXT.md.

Create `dashboard/src/components/ui/Button.tsx`:
```tsx
'use client';

import { forwardRef, ButtonHTMLAttributes } from 'react';

interface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'primary' | 'secondary' | 'outline' | 'ghost' | 'destructive';
  size?: 'sm' | 'md' | 'lg';
  loading?: boolean;
}

/**
 * Button component with medieval pixel styling
 *
 * Features per CONTEXT.md:
 * - 8px border-radius
 * - Hard-edge pixel shadows (no blur)
 * - Hover scale effect (1.02x)
 * - Gold accents for secondary variant
 */
const Button = forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className = '', variant = 'primary', size = 'md', loading, children, disabled, ...props }, ref) => {
    const baseStyles = `
      inline-flex items-center justify-center font-semibold
      rounded-[8px] transition-all duration-150
      focus:outline-none focus:ring-2 focus:ring-gold focus:ring-offset-2 focus:ring-offset-background
      disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none
      hover:scale-[1.02] active:scale-[0.98]
    `;

    // Pixel-style hard shadows per CONTEXT.md (offset, no blur)
    const pixelShadow = 'shadow-[3px_3px_0px_0px_rgba(51,65,85,0.3)]';
    const pixelShadowGold = 'shadow-[3px_3px_0px_0px_rgba(212,160,23,0.4)]';

    const variants = {
      primary: `bg-foreground text-background border-2 border-foreground ${pixelShadow} hover:shadow-[2px_2px_0px_0px_rgba(51,65,85,0.3)]`,
      secondary: `bg-gold text-foreground border-2 border-gold-dark ${pixelShadowGold} hover:bg-gold-light`,
      outline: `border-2 border-foreground bg-transparent text-foreground ${pixelShadow} hover:bg-accent`,
      ghost: 'bg-transparent text-foreground hover:bg-accent border-2 border-transparent',
      destructive: `bg-destructive text-destructive-foreground border-2 border-destructive ${pixelShadow} hover:opacity-90`,
    };

    const sizes = {
      sm: 'px-3 py-1.5 text-sm gap-1.5',
      md: 'px-4 py-2 text-sm gap-2',
      lg: 'px-6 py-3 text-base gap-2',
    };

    return (
      <button
        ref={ref}
        className={`${baseStyles} ${variants[variant]} ${sizes[size]} ${className}`}
        disabled={disabled || loading}
        {...props}
      >
        {loading && <LoadingSpinner />}
        {children}
      </button>
    );
  }
);

Button.displayName = 'Button';

/**
 * Simple loading spinner for button loading state
 * Uses gold color for medieval theme
 */
function LoadingSpinner() {
  return (
    <svg
      className="animate-spin h-4 w-4 text-current"
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
    >
      <circle
        className="opacity-25"
        cx="12"
        cy="12"
        r="10"
        stroke="currentColor"
        strokeWidth="4"
      />
      <path
        className="opacity-75"
        fill="currentColor"
        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
      />
    </svg>
  );
}

export { Button };
export type { ButtonProps };
```
  </action>
  <verify>
- `ls dashboard/src/components/ui/Button.tsx` (file exists)
- `grep "pixel" dashboard/src/components/ui/Button.tsx` (pixel styling applied)
- `grep "8px" dashboard/src/components/ui/Button.tsx` (correct border radius)
  </verify>
  <done>Button component created with pixel shadows, gold accents, and hover effects</done>
</task>

<task type="auto">
  <name>Task 2: Create Card component family with pixel theme</name>
  <files>
    dashboard/src/components/ui/Card.tsx
  </files>
  <action>
Port Chris's Card component and apply medieval pixel styling.

Create `dashboard/src/components/ui/Card.tsx`:
```tsx
import { HTMLAttributes, forwardRef } from 'react';

interface CardProps extends HTMLAttributes<HTMLDivElement> {
  /** Apply pixel shadow effect */
  withShadow?: boolean;
}

/**
 * Card component with medieval pixel styling
 *
 * Features per CONTEXT.md:
 * - Parchment background (#fffef9)
 * - Thick pixel-style borders (2px)
 * - Hard-edge offset shadows (no blur)
 * - 8px border-radius
 */
const Card = forwardRef<HTMLDivElement, CardProps>(
  ({ className = '', withShadow = true, children, ...props }, ref) => {
    return (
      <div
        ref={ref}
        className={`
          bg-card rounded-[8px]
          border-2 border-border
          ${withShadow ? 'shadow-[3px_3px_0px_0px_rgba(51,65,85,0.2)]' : ''}
          ${className}
        `}
        {...props}
      >
        {children}
      </div>
    );
  }
);

Card.displayName = 'Card';

/**
 * Card header with bottom border
 */
const CardHeader = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(
  ({ className = '', children, ...props }, ref) => {
    return (
      <div
        ref={ref}
        className={`px-6 py-4 border-b-2 border-border ${className}`}
        {...props}
      >
        {children}
      </div>
    );
  }
);

CardHeader.displayName = 'CardHeader';

/**
 * Card title styling
 */
const CardTitle = forwardRef<HTMLHeadingElement, HTMLAttributes<HTMLHeadingElement>>(
  ({ className = '', children, ...props }, ref) => {
    return (
      <h3
        ref={ref}
        className={`text-lg font-semibold text-card-foreground ${className}`}
        {...props}
      >
        {children}
      </h3>
    );
  }
);

CardTitle.displayName = 'CardTitle';

/**
 * Card description/subtitle
 */
const CardDescription = forwardRef<HTMLParagraphElement, HTMLAttributes<HTMLParagraphElement>>(
  ({ className = '', children, ...props }, ref) => {
    return (
      <p
        ref={ref}
        className={`text-sm text-muted-foreground ${className}`}
        {...props}
      >
        {children}
      </p>
    );
  }
);

CardDescription.displayName = 'CardDescription';

/**
 * Card content area
 */
const CardContent = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(
  ({ className = '', children, ...props }, ref) => {
    return (
      <div
        ref={ref}
        className={`px-6 py-4 ${className}`}
        {...props}
      >
        {children}
      </div>
    );
  }
);

CardContent.displayName = 'CardContent';

/**
 * Card footer with top border
 */
const CardFooter = forwardRef<HTMLDivElement, HTMLAttributes<HTMLDivElement>>(
  ({ className = '', children, ...props }, ref) => {
    return (
      <div
        ref={ref}
        className={`px-6 py-4 border-t-2 border-border ${className}`}
        {...props}
      >
        {children}
      </div>
    );
  }
);

CardFooter.displayName = 'CardFooter';

export { Card, CardHeader, CardTitle, CardDescription, CardContent, CardFooter };
export type { CardProps };
```
  </action>
  <verify>
- `ls dashboard/src/components/ui/Card.tsx` (file exists)
- `grep "border-2" dashboard/src/components/ui/Card.tsx` (thick borders)
- `grep "CardHeader" dashboard/src/components/ui/Card.tsx` (all subcomponents present)
  </verify>
  <done>Card component family created with parchment background and pixel borders</done>
</task>

<task type="auto">
  <name>Task 3: Create Input component and GoldCoinsLoader</name>
  <files>
    dashboard/src/components/ui/Input.tsx
    dashboard/src/components/ui/GoldCoinsLoader.tsx
    dashboard/src/components/ui/index.ts
  </files>
  <action>
Create Input component with gold focus state and GoldCoinsLoader for medieval-themed loading.

1. Create `dashboard/src/components/ui/Input.tsx`:
```tsx
'use client';

import { forwardRef, InputHTMLAttributes } from 'react';

interface InputProps extends InputHTMLAttributes<HTMLInputElement> {
  label?: string;
  error?: string;
  hint?: string;
}

/**
 * Input component with medieval pixel styling
 *
 * Features per CONTEXT.md:
 * - Thick pixel-style borders (2px)
 * - Gold/bronze accent border on focus
 * - Inline error messages (no toasts)
 * - 8px border-radius
 */
const Input = forwardRef<HTMLInputElement, InputProps>(
  ({ className = '', label, error, hint, id, ...props }, ref) => {
    return (
      <div className="space-y-1.5">
        {label && (
          <label
            htmlFor={id}
            className="block text-sm font-medium text-foreground"
          >
            {label}
          </label>
        )}
        <input
          ref={ref}
          id={id}
          className={`
            w-full px-3 py-2
            bg-background text-foreground
            border-2 rounded-[8px]
            placeholder:text-muted-foreground
            transition-colors duration-150
            focus:outline-none focus:border-gold focus:ring-1 focus:ring-gold
            disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-muted
            ${error ? 'border-destructive' : 'border-input'}
            ${className}
          `}
          {...props}
        />
        {hint && !error && (
          <p className="text-sm text-muted-foreground">{hint}</p>
        )}
        {error && (
          <p className="text-sm text-destructive">{error}</p>
        )}
      </div>
    );
  }
);

Input.displayName = 'Input';

export { Input };
export type { InputProps };
```

2. Create `dashboard/src/components/ui/GoldCoinsLoader.tsx`:
```tsx
'use client';

interface GoldCoinsLoaderProps {
  size?: 'sm' | 'md' | 'lg';
  className?: string;
}

/**
 * Medieval-themed loading indicator
 *
 * Per CONTEXT.md: Gold coins stacking animation
 * Three stacked coins that animate up and down
 */
export function GoldCoinsLoader({ size = 'md', className = '' }: GoldCoinsLoaderProps) {
  const sizes = {
    sm: { container: 'w-6 h-8', coin: 'h-[35%]' },
    md: { container: 'w-10 h-12', coin: 'h-[35%]' },
    lg: { container: 'w-14 h-16', coin: 'h-[35%]' },
  };

  const { container, coin } = sizes[size];

  return (
    <div
      className={`relative ${container} ${className}`}
      role="status"
      aria-label="Loading"
    >
      {/* Three stacking coins */}
      {[0, 1, 2].map((i) => (
        <div
          key={i}
          className={`
            absolute w-full ${coin}
            rounded-full
            bg-gradient-to-b from-gold-light via-gold to-gold-dark
            border-2 border-gold-dark
            animate-coin-stack
          `}
          style={{
            animationDelay: `${i * 0.15}s`,
            bottom: `${i * 28}%`,
            zIndex: 3 - i,
          }}
        >
          {/* Coin shine effect */}
          <div className="absolute inset-0 rounded-full bg-gradient-to-br from-white/30 to-transparent" />
        </div>
      ))}
    </div>
  );
}

/**
 * Full-page loading state with centered loader
 */
export function PageLoader() {
  return (
    <div className="flex items-center justify-center min-h-[400px]">
      <div className="text-center">
        <GoldCoinsLoader size="lg" className="mx-auto mb-4" />
        <p className="text-muted-foreground text-sm">Loading your realm...</p>
      </div>
    </div>
  );
}

/**
 * Inline loading state for buttons/small areas
 */
export function InlineLoader({ className = '' }: { className?: string }) {
  return <GoldCoinsLoader size="sm" className={className} />;
}
```

3. Create `dashboard/src/components/ui/index.ts` (barrel export):
```typescript
// UI Component Library - Medieval Pixel Theme
// Export all components for easy importing

export { Button } from './Button';
export type { ButtonProps } from './Button';

export { Card, CardHeader, CardTitle, CardDescription, CardContent, CardFooter } from './Card';
export type { CardProps } from './Card';

export { Input } from './Input';
export type { InputProps } from './Input';

export { GoldCoinsLoader, PageLoader, InlineLoader } from './GoldCoinsLoader';
```
  </action>
  <verify>
- `ls dashboard/src/components/ui/Input.tsx` (file exists)
- `ls dashboard/src/components/ui/GoldCoinsLoader.tsx` (file exists)
- `ls dashboard/src/components/ui/index.ts` (barrel export exists)
- `grep "focus:border-gold" dashboard/src/components/ui/Input.tsx` (gold focus state)
- `grep "animate-coin-stack" dashboard/src/components/ui/GoldCoinsLoader.tsx` (animation used)
  </verify>
  <done>Input with gold focus, GoldCoinsLoader, and barrel exports created</done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `ls dashboard/src/components/ui/` shows Button.tsx, Card.tsx, Input.tsx, GoldCoinsLoader.tsx, index.ts
2. `cd dashboard && npm run build` completes without errors
3. All components use pixel-shadow, border-2, rounded-[8px] styling
4. GoldCoinsLoader uses animate-coin-stack animation from globals.css
</verification>

<success_criteria>
- Button has primary (slate), secondary (gold), outline, ghost, destructive variants
- Card family includes Card, CardHeader, CardTitle, CardDescription, CardContent, CardFooter
- Input shows gold border on focus, red border on error, inline error messages
- GoldCoinsLoader animates three stacking gold coins
- All components use 8px border-radius and pixel-style shadows
- Barrel export allows `import { Button, Card, Input } from '@/components/ui'`
</success_criteria>

<output>
After completion, create `.planning/phases/31-nextjs-frontend/31-04-SUMMARY.md`
</output>
