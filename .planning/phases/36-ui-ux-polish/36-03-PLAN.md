# Plan 36-03: Password UX Improvements

---
wave: 3
depends_on:
  - 36-01
  - 36-02
files_modified:
  - dashboard/src/components/ui/PasswordInput.tsx
  - dashboard/src/components/ui/PasswordStrength.tsx
  - dashboard/src/components/ui/index.ts
  - dashboard/src/app/(auth)/login/page.tsx
  - dashboard/src/app/(auth)/signup/page.tsx
  - dashboard/src/app/(auth)/reset-password/page.tsx
  - dashboard/src/app/admin/(auth)/login/page.tsx
autonomous: true
---

## Goal

Improve password-related user experience across all auth forms with visibility toggles, strength indicators, and visible requirements.

## Must Haves

- [ ] Password visibility toggle (show/hide) on all password fields
- [ ] Password strength indicator on signup and reset forms
- [ ] Password requirements visible before user types
- [ ] All forms still submit correctly after changes

## Context

**Current State:**
- Password fields are standard type="password" with no visibility toggle
- No indication of password strength during signup
- Password requirements only mentioned in validation errors
- Missing eye icon for show/hide password

<tasks>

<task id="01">
<goal>Create PasswordInput component with visibility toggle</goal>
<files>
- dashboard/src/components/ui/PasswordInput.tsx
- dashboard/src/components/ui/index.ts
</files>
<steps>
1. Create PasswordInput component accepting standard input props
2. Add state for visibility (showPassword: boolean)
3. Toggle button with Eye/EyeOff icons from lucide-react
4. type={showPassword ? "text" : "password"}
5. Add aria-label for accessibility
6. Style toggle button to appear inside input (absolute positioned)
7. Export from ui/index.ts
</steps>
<acceptance_criteria>
- [ ] Toggle works on click
- [ ] Visual feedback (icon changes)
- [ ] Accessible (button has aria-label)
- [ ] Styled consistently with Input component
</acceptance_criteria>
</task>

<task id="02">
<goal>Create PasswordStrength indicator component</goal>
<files>
- dashboard/src/components/ui/PasswordStrength.tsx
- dashboard/src/components/ui/index.ts
</files>
<steps>
1. Create component accepting password string prop
2. Calculate strength:
   - Weak (red): < 8 chars or only lowercase
   - Fair (yellow): 8+ chars, some variety (upper or number)
   - Strong (green): 8+ chars with upper, lower, number
3. Display as colored progress bar with label
4. Update in real-time as password changes
5. Export from ui/index.ts
</steps>
<acceptance_criteria>
- [ ] Updates in real-time as user types
- [ ] Color coding clear (red/yellow/green)
- [ ] Shows strength label (Weak/Fair/Strong)
- [ ] Matches site styling
</acceptance_criteria>
</task>

<task id="03">
<goal>Create password requirements checklist component</goal>
<files>
- dashboard/src/components/ui/PasswordRequirements.tsx
- dashboard/src/components/ui/index.ts
</files>
<steps>
1. Create component accepting password string prop
2. Show requirements with check/uncheck status:
   - At least 8 characters
   - Contains uppercase letter (optional, shows when met)
   - Contains number (optional, shows when met)
3. Use Check/X icons or checkmark styling
4. Green for met, gray for unmet
5. Export from ui/index.ts
</steps>
<acceptance_criteria>
- [ ] Requirements visible before typing
- [ ] Checkmarks appear as requirements met
- [ ] Clear visual distinction
</acceptance_criteria>
</task>

<task id="04">
<goal>Update Next.js login page with PasswordInput</goal>
<files>
- dashboard/src/app/(auth)/login/page.tsx
</files>
<steps>
1. Import PasswordInput component
2. Replace password input with PasswordInput
3. Ensure form submission still works
4. Test visibility toggle
</steps>
<acceptance_criteria>
- [ ] Toggle works on login form
- [ ] Form submission unchanged
- [ ] Styling consistent
</acceptance_criteria>
</task>

<task id="05">
<goal>Update Next.js signup page with all password UX components</goal>
<files>
- dashboard/src/app/(auth)/signup/page.tsx
</files>
<steps>
1. Import PasswordInput, PasswordStrength, PasswordRequirements
2. Replace password input with PasswordInput
3. Add PasswordStrength below password field
4. Add PasswordRequirements below strength indicator
5. Replace confirm password input with PasswordInput
6. Ensure form validation still works
</steps>
<acceptance_criteria>
- [ ] Both password fields have visibility toggle
- [ ] Strength indicator shows for main password
- [ ] Requirements checklist visible and updates
- [ ] Form submission works correctly
</acceptance_criteria>
</task>

<task id="06">
<goal>Update reset password page with password UX</goal>
<files>
- dashboard/src/app/(auth)/reset-password/page.tsx
</files>
<steps>
1. Import password UX components
2. Apply PasswordInput to both password fields
3. Add PasswordStrength to new password field
4. Add PasswordRequirements for new password
5. Ensure form works correctly
</steps>
<acceptance_criteria>
- [ ] Visibility toggles work
- [ ] Strength indicator shown
- [ ] Requirements visible
</acceptance_criteria>
</task>

<task id="07">
<goal>Update admin login page with PasswordInput</goal>
<files>
- dashboard/src/app/admin/(auth)/login/page.tsx
</files>
<steps>
1. Import PasswordInput component
2. Replace password input with PasswordInput
3. Test form submission still works
</steps>
<acceptance_criteria>
- [ ] Toggle works on admin login
- [ ] Form submission unchanged
</acceptance_criteria>
</task>

</tasks>

## Verification

1. Login page: click eye icon - password shows/hides
2. Signup page: click eye icon on both fields - passwords show/hide
3. Signup page: type weak password - shows "Weak" in red
4. Signup page: type strong password - shows "Strong" in green
5. Signup page: requirements checklist updates as you type
6. Reset password page: all password UX works
7. Admin login: toggle works
8. All forms still submit correctly

## Notes

- Use Lucide icons (Eye, EyeOff) for toggle - already installed
- Password strength is simple heuristic, no external library needed
- Keep styling consistent with existing forms
- Ensure mobile-friendly (touch targets for toggle button)
