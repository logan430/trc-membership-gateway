---
phase: 37-admin-features
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - dashboard/src/app/admin/points-config/page.tsx
autonomous: true

must_haves:
  truths:
    - "Admin sees all point configs in a table format"
    - "Admin can click a points value to edit it inline"
    - "Saving a value shows a checkmark animation that fades out"
    - "Admin sees when each config was last updated"
  artifacts:
    - path: "dashboard/src/app/admin/points-config/page.tsx"
      provides: "Table-based point config page with inline editing"
      min_lines: 150
  key_links:
    - from: "dashboard/src/app/admin/points-config/page.tsx"
      to: "useUpdatePointConfig mutation"
      via: "inline save on blur/enter"
      pattern: "mutate.*onSuccess"
---

<objective>
Enhance the Points Configuration page from card-based layout to table-based with inline editing.

Purpose: Per CONTEXT.md decisions, admins need a more compact, scannable table view with click-to-edit functionality and visual save confirmation.

Output: Refactored points-config/page.tsx with table layout, inline editable cells, save indicator animation, and updatedAt display.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/37-admin-features/37-CONTEXT.md
@.planning/phases/37-admin-features/37-RESEARCH.md
@dashboard/src/app/admin/points-config/page.tsx
@dashboard/src/hooks/useAdminPointsConfig.ts
@dashboard/src/components/admin/MembersTable.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Convert to Table Layout with Inline Editing</name>
  <files>dashboard/src/app/admin/points-config/page.tsx</files>
  <action>
Replace the current card-based layout with a table-based layout:

1. Remove PointConfigCard component entirely
2. Create new table structure following MembersTable pattern:
   - Columns: Action (disabled), Label, Points (editable), Enabled (toggle), Description, Last Updated
   - Use `<table>` with proper thead/tbody structure
   - Apply existing table styles: `w-full text-sm`, `border-b-2 border-border` for header

3. Create InlineEditableValue component for points column:
   - Default state: Display value with `cursor-pointer hover:bg-accent px-2 py-1 rounded`
   - On click: Switch to `<input type="number">` with autoFocus
   - On blur or Enter key: Call mutation and switch back to display
   - Show Check icon from lucide-react with `animate-fade-out` class after successful save
   - Add fade-out animation via Tailwind (use `opacity-0 transition-opacity duration-1000`)

4. Create InlineToggle component for enabled column:
   - Checkbox that calls mutation immediately on change
   - Show saving state briefly

5. Display updatedAt using date-fns formatDistanceToNow:
   - Show "Updated X ago" in muted text
   - Note: updatedBy not currently in API response, just show time for now

6. Keep existing page header with Coins icon and title
7. Maintain error handling and loading states
  </action>
  <verify>
Run `npm run build --prefix dashboard` - should compile without errors.
Visit /admin/points-config - should show table with all configs.
Click a points value - should switch to input field.
Press Enter or click away - value should save, checkmark should appear and fade.
  </verify>
  <done>
Points config page displays as table, inline editing works with save indicator animation, updatedAt shows relative time.
  </done>
</task>

</tasks>

<verification>
1. Page loads with table layout showing all point configs
2. Clicking points value enables inline editing
3. Saving shows checkmark that fades after ~2 seconds
4. Enabled toggle works and saves immediately
5. updatedAt column shows relative time (e.g., "2 hours ago")
6. No TypeScript errors, no console errors
</verification>

<success_criteria>
- Table layout replaces card layout
- Points values are click-to-edit with Enter/blur save
- Checkmark animation appears on save and fades out
- updatedAt displayed for each config
- Existing hooks (usePointConfigs, useUpdatePointConfig) remain unchanged
</success_criteria>

<output>
After completion, create `.planning/phases/37-admin-features/37-01-SUMMARY.md`
</output>
